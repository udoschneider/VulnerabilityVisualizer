Class {
	#name : #DVVGrypeRepoDigest,
	#superclass : #DVVModel,
	#instVars : [
		'digest',
		'repository'
	],
	#category : #VulnerabilityVisualizer
}

{ #category : #'instance creation' }
DVVGrypeRepoDigest class >> fromString: aString [

	| splitted |
	splitted := $@ split: aString.
	^ self
		  repository: splitted first
		  digest: (DVVGrypeChecksum fromString: splitted second)
]

{ #category : #accessing }
DVVGrypeRepoDigest class >> neoJsonMapping: mapper [

	mapper for: self customDo: [ :mapping | 
		mapping
			decoder: [ :string | self fromString: string ];
			encoder: [ :checksum | self halt ] ]
]

{ #category : #'instance creation' }
DVVGrypeRepoDigest class >> repository: aString digest: aDVVGrypeChecksum [

	^ self new
		  setRepository: aString digest: aDVVGrypeChecksum;
		  yourself
]

{ #category : #printing }
DVVGrypeRepoDigest >> printOn: aStream [

	super printOn: aStream.

	aStream
		space;
		nextPut: $(;
		nextPutAll: repository;
		nextPut: $@;
		print: digest;
		nextPut: $)
]

{ #category : #initialization }
DVVGrypeRepoDigest >> setRepository: aString digest: aDVVGrypeChecksum [

	repository := aString.
	digest := aDVVGrypeChecksum
]
