Class {
	#name : #VVAddPackageCommand,
	#superclass : #VVCommand,
	#category : #'VulnerabilityVisualizer-UI'
}

{ #category : #executing }
VVAddPackageCommand >> execute [

	| packageUrl project syfter package |
	packageUrl := (UIManager default
		               request: 'Package URL'
		               initialAnswer:
		               'pkg:docker/balenalib/iot-gate-imx8-alpine-node'
		               title: 'Please provide a Docker PURL') ifNil: [ 
		              ^ self ].
	package := VVPackage packageUrlString: packageUrl.
	project := self context selectedProject.
	project addPackage: package.
	syfter := (Syfter on: project) process: package.
project removeNonNpmPackages.
	self context updatePresenter
]

{ #category : #executing }
VVAddPackageCommand >> initialize [

	super initialize.
	self
		name: 'Add Package';
		description: 'Add Package'
]
