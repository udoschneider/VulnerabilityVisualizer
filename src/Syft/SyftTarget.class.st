Class {
	#name : #SyftTarget,
	#superclass : #SyftObject,
	#instVars : [
		'repoDigests',
		'layers',
		'manifest',
		'imageSize',
		'manifestDigest',
		'imageID',
		'config',
		'tags',
		'userInput',
		'mediaType',
		'scope'
	],
	#category : #'Syft-Core'
}

{ #category : #accessing }
SyftTarget class >> neoJsonMapping: mapper [

	mapper for: self do: [ :mapping | 
		mapping mapInstVars:
			#(#config #imageID #imageSize #layers #manifest #manifestDigest #mediaType
#repoDigests #scope #tags #userInput).
		(mapping mapInstVar: #manifestDigest) valueSchema: GrypeChecksum.
		(mapping mapInstVar: #imageID) valueSchema: GrypeChecksum.
		(mapping mapInstVar: #mediaType) valueSchema: ZnMimeType.
		(mapping mapInstVar: #manifest) valueSchema: #Base64EncodedJson.
		(mapping mapInstVar: #repoDigests) valueSchema: #ArrayOfRepoDigest.
		(mapping mapInstVar: #layers) valueSchema: #ArrayOfLayer.
		(mapping mapInstVar: #config) valueSchema: #Base64EncodedJson ].

	mapper
		for: #ArrayOfRepoDigest
		customDo: [ :mapping | mapping listOfElementSchema: SyftRepoDigest ];
		for: #ArrayOfLayer
		customDo: [ :mapping | mapping listOfElementSchema: SyftLayer ]
]

{ #category : #accessing }
SyftTarget >> manifest [
	^ manifest
]
